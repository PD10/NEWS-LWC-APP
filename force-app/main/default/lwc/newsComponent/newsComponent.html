<template>
    <div class="container">
        <template if:true={isSpinnerLoaded}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template>
        <template if:false={isSpinnerLoaded}>
            <div class="slds-grid slds-gutters slds-wrap slds-var-p-around_medium">
                <div class="slds-col">
                    <span>
                        <div class="country-combobox">
                            <lightning-combobox
                                name="Select Country"
                                label="Select Country"
                                value={countryValue}
                                placeholder="Select Country"
                                options={countryOptions}
                                onchange={handleCountryChange} 
                            >
                            </lightning-combobox>
                        </div>
                    </span>
                </div>
                <div class="slds-col">
                    <span>
                        <div class="genre-combobox">
                            <lightning-combobox
                                name="Select Genre"
                                label="Select Genre"
                                value={genreValue}
                                placeholder="Select Genre"
                                options={genreOptions}
                                onchange={handleGenreChange} 
                            >
                            </lightning-combobox>
                        </div>
                    </span>
                </div>
                <div class="slds-col">
                    <span>
                        <div class="search-term">
                            <lightning-input
                                type="text"
                                label="Search news"
                                placeholder="Search news"
                                value={searchTerm}
                                onchange={handleSearchChange}
                            >
                            </lightning-input>
                        </div>
                    </span>
                </div>
                <div class="slds-col">
                    <span>
                        <div class="news-per-page-combobox">
                            <lightning-combobox
                                name="News Per Page"
                                label="News Per Page"
                                value={newsPerPage}
                                placeholder="News Per Page"
                                options={newsPerPageOptions}
                                onchange={handleNewsPerPageChange} 
                            >
                            </lightning-combobox>
                        </div>
                    </span>
                </div>
                <div class="slds-col">
                    <span>
                        <div class="page-number-combobox">
                            <lightning-combobox
                                name="Page Number"
                                label="Page Number"
                                value={pageNumber}
                                placeholder="Page Number"
                                options={pageNumberOptions}
                                onchange={handlePageChange} 
                            >
                            </lightning-combobox>
                        </div>
                        <!-- <div class="nav-buttons">
                            <template if:false={isFirstPage}>
                                <button onclick={handlePrevPage}>Previous Page</button>
                            </template>
                            <template if:false={isLastPage}>
                                <button onclick={handleNextPage}>Next Page</button>
                            </template>
                        </div>
                        <div class="page-info">
                            Total Records: {totalRecordCount}
                            Page ({pageNumber} of {})
                        </div> -->
                    </span>
                </div>
            </div>
        </template>
        <div class="slds-grid slds-gutters slds-wrap justify-center slds-var-p-around_medium">
            <template if:true={isThereNews}>
                <template for:each={news} for:item="newsItem">
                    <div class="slds-col" key = {newsItem.id}>
                        <span>
                            <c-news-card news-item = {newsItem}></c-news-card>
                        </span>
                    </div>
                </template>
            </template>
            <template if:false={isThereNews}>
                <p>No news found.</p>
            </template>
            <template if:true={isThereError}>
                <p>Server Error.</p>
            </template>
        </div>
    </div>
</template>